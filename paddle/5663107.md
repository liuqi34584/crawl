## ä»»åŠ¡æè¿°



### æœ¬æ¬¡å®è·µä½¿ç”¨Pythonæ¥çˆ¬å–ç™¾åº¦ç™¾ç§‘ä¸­ã€Šéšç§˜è€Œä¼Ÿå¤§ã€‹æ‰€æœ‰æ¼”å‘˜çš„ä¿¡æ¯ï¼Œä»¥åŠæ”¶è§†ç‡ï¼Œå¹¶è¿›è¡Œå¯è§†åŒ–åˆ†æã€‚

### æ•°æ®è·å–ï¼šhttps://baike.baidu.com/item/éšç§˜è€Œä¼Ÿå¤§

<br/>
<br/>


<img src ="https://ai-studio-static-online.cdn.bcebos.com/88e66d787b694dfb9e9a251dbbdcc4fe98679d6e829546dbbb3a749c7fd87517" height='500' width='500'/>
<img src="https://ai-studio-static-online.cdn.bcebos.com/8c681adcee5e450ca6998330b221feebcbdb2ed391db4ab1a34daec0f364a6d7" height='500' width='500' />



<br/>
<br/>


<br/>

**ä¸Šç½‘çš„å…¨è¿‡ç¨‹:**

    æ™®é€šç”¨æˆ·:

    æ‰“å¼€æµè§ˆå™¨ --> å¾€ç›®æ ‡ç«™ç‚¹å‘é€è¯·æ±‚ --> æ¥æ”¶å“åº”æ•°æ® --> æ¸²æŸ“åˆ°é¡µé¢ä¸Šã€‚

    çˆ¬è™«ç¨‹åº:

    æ¨¡æ‹Ÿæµè§ˆå™¨ --> å¾€ç›®æ ‡ç«™ç‚¹å‘é€è¯·æ±‚ --> æ¥æ”¶å“åº”æ•°æ® --> æå–æœ‰ç”¨çš„æ•°æ® --> ä¿å­˜åˆ°æœ¬åœ°/æ•°æ®åº“ã€‚


**çˆ¬è™«çš„è¿‡ç¨‹**ï¼š

    1.å‘é€è¯·æ±‚ï¼ˆrequestsæ¨¡å—ï¼‰

    2.è·å–å“åº”æ•°æ®ï¼ˆæœåŠ¡å™¨è¿”å›ï¼‰

    3.è§£æå¹¶æå–æ•°æ®ï¼ˆBeautifulSoupæŸ¥æ‰¾æˆ–è€…reæ­£åˆ™ï¼‰

    4.ä¿å­˜æ•°æ®




<br/>

**æœ¬å®è·µä¸­å°†ä¼šä½¿ç”¨ä»¥ä¸‹ä¸¤ä¸ªæ¨¡å—ï¼Œé¦–å…ˆå¯¹è¿™ä¸¤ä¸ªæ¨¡å—ç®€å•äº†è§£ä»¥ä¸‹ï¼š**

<br/>

**requestæ¨¡å—ï¼š**

    requestsæ˜¯pythonå®ç°çš„ç®€å•æ˜“ç”¨çš„HTTPåº“ï¼Œå®˜ç½‘åœ°å€ï¼šhttp://cn.python-requests.org/zh_CN/latest/
    
    requests.get(url)å¯ä»¥å‘é€ä¸€ä¸ªhttp getè¯·æ±‚ï¼Œè¿”å›æœåŠ¡å™¨å“åº”å†…å®¹ã€‚
    
    





<br/>

**BeautifulSoupåº“ï¼š**

    BeautifulSoup æ˜¯ä¸€ä¸ªå¯ä»¥ä»HTMLæˆ–XMLæ–‡ä»¶ä¸­æå–æ•°æ®çš„Pythonåº“ã€‚ç½‘å€ï¼šhttps://beautifulsoup.readthedocs.io/zh_CN/v4.4.0/
    
    BeautifulSoupæ”¯æŒPythonæ ‡å‡†åº“ä¸­çš„HTMLè§£æå™¨,è¿˜æ”¯æŒä¸€äº›ç¬¬ä¸‰æ–¹çš„è§£æå™¨,å…¶ä¸­ä¸€ä¸ªæ˜¯ lxmlã€‚
    
    BeautifulSoup(markup, "html.parser")æˆ–è€…BeautifulSoup(markup, "lxml")ï¼Œæ¨èä½¿ç”¨lxmlä½œä¸ºè§£æå™¨,å› ä¸ºæ•ˆç‡æ›´é«˜ã€‚


```python
# å¦‚æœéœ€è¦è¿›è¡ŒæŒä¹…åŒ–å®‰è£…, éœ€è¦ä½¿ç”¨æŒä¹…åŒ–è·¯å¾„, å¦‚ä¸‹æ–¹ä»£ç ç¤ºä¾‹:
# !mkdir /home/aistudio/external-libraries
# !pip install beautifulsoup4 -t /home/aistudio/external-libraries
# !pip install lxml -t /home/aistudio/external-libraries
```


```python
# åŒæ—¶æ·»åŠ å¦‚ä¸‹ä»£ç , è¿™æ ·æ¯æ¬¡ç¯å¢ƒ(kernel)å¯åŠ¨çš„æ—¶å€™åªè¦è¿è¡Œä¸‹æ–¹ä»£ç å³å¯:
import sys
sys.path.append('/home/aistudio/external-libraries')
```

## æ•°æ®çˆ¬å–
## ä¸€ã€çˆ¬å–ç™¾åº¦ç™¾ç§‘ä¸­ã€Šéšç§˜è€Œä¼Ÿå¤§ã€‹ä¸­æ‰€æœ‰æ¼”å‘˜ä¿¡æ¯ï¼Œè¿”å›é¡µé¢æ•°æ®


```python
import json
import re
import requests
import datetime
from bs4 import BeautifulSoup
import os


def crawl_wiki_data():
    """
    çˆ¬å–ç™¾åº¦ç™¾ç§‘ä¸­ã€Šéšç§˜è€Œä¼Ÿå¤§ã€‹ä¸­æ¼”å‘˜ä¿¡æ¯ï¼Œè¿”å›html
    """
    headers = { 
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36'
    }
    #url='https://baike.baidu.com/item/éšç§˜è€Œä¼Ÿå¤§'  
    url = 'https://baike.baidu.com/item/%E9%9A%90%E7%A7%98%E8%80%8C%E4%BC%9F%E5%A4%A7/22454129?fr=aladdin'                       

    try:
        response = requests.get(url,headers=headers)
        #å°†ä¸€æ®µæ–‡æ¡£ä¼ å…¥BeautifulSoupçš„æ„é€ æ–¹æ³•,å°±èƒ½å¾—åˆ°ä¸€ä¸ªæ–‡æ¡£çš„å¯¹è±¡, å¯ä»¥ä¼ å…¥ä¸€æ®µå­—ç¬¦ä¸²
        soup = BeautifulSoup(response.text,'lxml')           
        #è¿”å›class="lemmaWgt-roleIntroduction"çš„div,å³â€œè§’è‰²ä»‹ç»â€ä¸‹æ–¹çš„div
        roleIntroductions = soup.find('div',{'class':'lemmaWgt-roleIntroduction'})
        all_roleIntroductions = roleIntroductions.find_all('li')
        print(all_roleIntroductions)
        actors = []
        for every_roleIntroduction in all_roleIntroductions:
             actor = {}    
             if every_roleIntroduction.find('div',{'class':'role-actor'}):
                 #æ‰¾æ¼”å‘˜åç§°å’Œæ¼”å‘˜ç™¾åº¦ç™¾ç§‘è¿æ¥     
                actor['role_name'] =  every_roleIntroduction.find('div',{'class':'role-name'}).text        
                actor["actor_name"] = every_roleIntroduction.find('div',{'class':'role-actor'}).find('a').text
                actor['actor_link'] =  'https://baike.baidu.com' + every_roleIntroduction.find('div',{'class':'role-actor'}).find('a').get('href')
                actor['role_escription'] = every_roleIntroduction.find('dd',{'class':'role-description'}).text   
             actors.append(actor)
    except Exception as e:
        print(e)
    json_data = json.loads(str(actors).replace("\'","\""))   
    with open('work/' + 'actors.json', 'w', encoding='UTF-8') as f:
        json.dump(json_data, f, ensure_ascii=False)


```

## äºŒã€çˆ¬å–æ¯ä¸ªæ¼”å‘˜çš„ç™¾åº¦ç™¾ç§‘é¡µé¢çš„ä¿¡æ¯ï¼Œå¹¶è¿›è¡Œä¿å­˜


```python
def crawl_everyone_wiki_urls():
    '''
    çˆ¬å–æ¯ä¸ªæ¼”å‘˜çš„ç™¾åº¦ç™¾ç§‘å›¾ç‰‡ï¼Œå¹¶ä¿å­˜
    ''' 
    with open('work/' + 'actors.json', 'r', encoding='UTF-8') as file:
         json_array = json.loads(file.read())
    headers = { 
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36' 
     }  
    actor_infos = []
    for star in json_array:
        actor_info = {}       
        name = star['actor_name']
        link = star['actor_link']
        actor_info['name'] = name
        #å‘æ¼”å‘˜ä¸ªäººç™¾åº¦ç™¾ç§‘å‘é€ä¸€ä¸ªhttp getè¯·æ±‚
        response = requests.get(link,headers=headers)        
        #å°†ä¸€æ®µæ–‡æ¡£ä¼ å…¥BeautifulSoupçš„æ„é€ æ–¹æ³•,å°±èƒ½å¾—åˆ°ä¸€ä¸ªæ–‡æ¡£çš„å¯¹è±¡
        bs = BeautifulSoup(response.text,'lxml')       
        #è·å–æ¼”å‘˜çš„æ°‘æ—ã€æ˜Ÿåº§ã€è¡€å‹ã€ä½“é‡ç­‰ä¿¡æ¯
        base_info_div = bs.find('div',{'class':'basic-info cmn-clearfix'})
        dls = bs.find_all('dl')
        for dl in dls:
            dts = dl.find_all('dt')
            for dt in dts:
                if "".join(str(dt.text).split()) == 'æ°‘æ—':
                     temp = dt.find_next('dd').text
                     actor_info['nation'] = "".join(temp.split())
                if "".join(str(dt.text).split()) == 'æ˜Ÿåº§':  
                     temp = dt.find_next('dd').text
                     actor_info['constellation'] = "".join(temp.split())
                if "".join(str(dt.text).split()) == 'è¡€å‹': 
                     temp = dt.find_next('dd').text
                     actor_info['blood_type'] = "".join(temp.split())
                if "".join(str(dt.text).split()) == 'èº«é«˜':  
                     height_str = str(dt.find_next('dd').text)
                     actor_info['height'] = str(height_str[0:height_str.rfind('cm')]).replace("\n","")
                if "".join(str(dt.text).split()) == 'ä½“é‡':  
                     temp = dt.find_next('dd').text
                     actor_info['weight'] = "".join(temp.split())
                if "".join(str(dt.text).split()) == 'å‡ºç”Ÿæ—¥æœŸ':  
                     birth_day_str = str(dt.find_next('dd').text).replace("\n","")
                     if 'å¹´' in  birth_day_str:
                         actor_info['birth_day'] = birth_day_str[0:birth_day_str.rfind('å¹´')]
        actor_infos.append(actor_info) 
        #å°†æ¼”å‘˜ä¸ªäººä¿¡æ¯å­˜å‚¨åˆ°jsonæ–‡ä»¶ä¸­
        json_data = json.loads(str(actor_infos).replace("\'","\""))   
        with open('work/' + 'actor_infos.json', 'w', encoding='UTF-8') as f:
            json.dump(json_data, f, ensure_ascii=False)

     
```

## ä¸‰ã€çˆ¬å–ã€Šéšç§˜è€Œä¼Ÿå¤§ã€‹çš„æ”¶è§†æƒ…å†µï¼Œå¹¶ä¿å­˜


```python
def crawl_viewing_data():
    """
    çˆ¬å–ç™¾åº¦ç™¾ç§‘ä¸­ã€Šéšç§˜è€Œä¼Ÿå¤§ã€‹æ”¶è§†æƒ…å†µï¼Œè¿”å›html
    """
    headers = { 
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36'
    }
    #url='https://baike.baidu.com/item/éšç§˜è€Œä¼Ÿå¤§'  
    url = 'https://baike.baidu.com/item/%E9%9A%90%E7%A7%98%E8%80%8C%E4%BC%9F%E5%A4%A7/22454129?fr=aladdin'                        

    try:
        response = requests.get(url,headers=headers)
        #å°†ä¸€æ®µæ–‡æ¡£ä¼ å…¥BeautifulSoupçš„æ„é€ æ–¹æ³•,å°±èƒ½å¾—åˆ°ä¸€ä¸ªæ–‡æ¡£çš„å¯¹è±¡, å¯ä»¥ä¼ å…¥ä¸€æ®µå­—ç¬¦ä¸²
        soup = BeautifulSoup(response.text,'lxml')     
          
        #è¿”å›æ‰€æœ‰çš„<table>æ‰€æœ‰æ ‡ç­¾
        tables = soup.find_all('table')
        crawl_table_title = "æ”¶è§†æƒ…å†µ"
        for table in  tables:           
            #å¯¹å½“å‰èŠ‚ç‚¹å‰é¢çš„æ ‡ç­¾å’Œå­—ç¬¦ä¸²è¿›è¡ŒæŸ¥æ‰¾
            table_titles = table.find_previous('div')
            for title in table_titles:
                if(crawl_table_title in title):
                    return table       
    except Exception as e:
        print(e)


```


```python


def parse_viewing_data(viewing_table):
    """
    å¯¹ã€Šéšç§˜è€Œä¼Ÿå¤§ã€‹çš„æ”¶è§†æƒ…å†µtableè¿›è¡Œè§£æï¼Œå¹¶ä¿å­˜
    """
    viewing_datas = []

    trs = viewing_table.find_all('tr')

    for i in range(len(trs)):
        if i < 2:
            continue
        viewing_data = {}
        tds = trs[i].find_all('td')
        print(trs[i])
        viewing_data["broadcastDate"]= tds[0].text
        viewing_data["csm59_rating"]= tds[1].text
        viewing_data["csm59_rating_share"]= tds[2].text
        viewing_data["csm59_ranking"]= tds[3].text
        viewing_data["csm_rating"]= tds[4].text
        viewing_data["csm_rating_share"]= tds[5].text
        viewing_data["csm_ranking"]= tds[6].text
        viewing_datas.append(viewing_data)
    #å°†ä¸ªäººä¿¡æ¯å­˜å‚¨åˆ°jsonæ–‡ä»¶ä¸­
    json_data = json.loads(str(viewing_datas).replace("\'","\""))   
    with open('work/' + 'viewing_infos.json', 'w', encoding='UTF-8') as f:
        json.dump(json_data, f, ensure_ascii=False)


```

## å››ã€æ•°æ®çˆ¬å–ä¸»ç¨‹åº


```python
if __name__ == '__main__':

     #çˆ¬å–ç™¾åº¦ç™¾ç§‘ä¸­ã€Šéšç§˜è€Œä¼Ÿå¤§ã€‹ä¸­æ¼”å‘˜ä¿¡æ¯ï¼Œè¿”å›html
     html = crawl_wiki_data()

     #çˆ¬å–æ¯ä¸ªæ¼”å‘˜çš„ä¿¡æ¯,å¹¶ä¿å­˜
     crawl_everyone_wiki_urls()
     
     # #1ã€çˆ¬å–ç™¾åº¦ç™¾ç§‘ä¸­ã€Šéšç§˜è€Œä¼Ÿå¤§ã€‹æ”¶è§†æƒ…å†µï¼Œè¿”å›html   2ã€å¯¹ã€Šéšç§˜è€Œä¼Ÿå¤§ã€‹çš„æ”¶è§†æƒ…å†µtableè¿›è¡Œè§£æï¼Œå¹¶ä¿å­˜
     viewing_table = crawl_viewing_data()
     parse_viewing_data(viewing_table)
     
     print("æ‰€æœ‰ä¿¡æ¯çˆ¬å–å®Œæˆï¼")

     
```

    [<li class="roleIntroduction-item">
    <a class="roleIntrodcution-picture" href="/pic/%E9%9A%90%E7%A7%98%E8%80%8C%E4%BC%9F%E5%A4%A7/22454129/0/1b4c510fd9f9d72a60599e8aaf613f34349b033b0d5a?fr=lemma&amp;fromModule=lemma_content-image" target="_blank">
    <img alt="" src="https://bkimg.cdn.bcebos.com/pic/1b4c510fd9f9d72a60599e8aaf613f34349b033b0d5a?x-bce-process=image/crop,x_0,y_0,w_1080,h_1442/resize,m_lfit,h_780,limit_1/quality,Q_70"/>
    </a>
    <dl class="roleIntrodcution-descritpion">
    <dt>
    <div class="role-name">
    <span class="item-value">
    é¡¾è€€ä¸œ
    </span>
    </div>
    <div class="role-actor">
    <span class="item-key">æ¼”å‘˜</span><span class="item-value">
    <a data-lemmaid="3908480" href="/item/%E6%9D%8E%E6%98%93%E5%B3%B0/3908480" target="_blank">ææ˜“å³°</a>
    </span>
    </div>
    <div class="role-voice">
    </div>
    </dt>
    <dd class="role-description">
    <p>åœ¨ä¸Šæµ·å¼„å ‚é•¿å¤§ï¼Œæ€€æ£ç€â€œåŒ¡æ‰¶æ­£ä¹‰ï¼Œä¿æŠ¤ç™¾å§“â€çš„ç†æƒ³ï¼Œå¦‚æ„¿ä»¥å¿åœ°æˆä¸ºä¸€åè­¦å¯Ÿã€‚å…¥èŒä¸Šæµ·è­¦å±€ç¬¬ä¸€å¤©ä¾¿çŠ¶å†µé¢‘å‡ºï¼Œæ„å¤–ç ´åç»„ç»‡çš„æŠ“æ•è¡ŒåŠ¨ï¼Œæˆä¸ºè­¦å±€è€å‘˜å·¥çš„â€œçœ¼ä¸­é’‰â€ï¼Œé¢å¯¹å‰è¾ˆä»¬çš„â€œèŠ±å¼æ¬ºè´Ÿâ€ï¼Œé¡¾è€€ä¸œè™½å›§æ€ç™¾å‡ºï¼Œå´ä»åšå®ˆç€è‡ªå·±â€œåŒ¡æ‰¶æ­£ä¹‰ï¼Œä¿æŠ¤ç™¾å§“â€çš„è­¦å¯Ÿæ¢¦ã€‚</p>
    </dd>
    </dl>
    </li>, <li class="roleIntroduction-item">
    <a class="roleIntrodcution-picture" href="/pic/%E9%9A%90%E7%A7%98%E8%80%8C%E4%BC%9F%E5%A4%A7/22454129/0/023b5bb5c9ea15ce36d3119ecd4b2df33a87e950145a?fr=lemma&amp;fromModule=lemma_content-image" target="_blank">
    <img alt="" src="https://bkimg.cdn.bcebos.com/pic/023b5bb5c9ea15ce36d3119ecd4b2df33a87e950145a?x-bce-process=image/crop,x_0,y_0,w_1080,h_1442/resize,m_lfit,h_780,limit_1/quality,Q_70"/>
    </a>
    <dl class="roleIntrodcution-descritpion">
    <dt>
    <div class="role-name">
    <span class="item-value">
    æ²ˆé’ç¦¾
    </span>
    </div>
    <div class="role-actor">
    <span class="item-key">æ¼”å‘˜</span><span class="item-value">
    <a data-lemmaid="26787" href="/item/%E9%87%91%E6%99%A8/26787" target="_blank">é‡‘æ™¨</a>
    </span>
    </div>
    <div class="role-voice">
    </div>
    </dt>
    <dd class="role-description">
    <p>æ²ˆé’ç¦¾è¡¨é¢çœ‹èµ·æ¥æ˜¯ä¸€ä¸ªçƒ­æƒ…çˆ±é’±çš„å°å¸‚æ°‘ï¼Œæœ¬è¯¥çƒ­ç»œå¼ ç½—çš„æ€§æ ¼ï¼Œä½†æ˜¯å› ä¸ºå¥¹çš„å¤šé‡èº«ä»½ï¼Œå¥¹éšç§˜çš„ä»»åŠ¡æ‰€ä»¥å¾ˆå¤šæƒ…æ„Ÿè¡¨è¾¾å¿…é¡»å…‹åˆ¶ä¸èƒ½å®£æ³„ã€‚å…¬å¼€èº«ä»½æ˜¯è·‘å•å¸®çš„ï¼Œå®åˆ™æ˜¯åœ°ä¸‹å…šè´Ÿè´£ä¼ é€’æƒ…æŠ¥çš„è”ç»œå‘˜ã€‚åå› ç»„ç»‡å®‰æ’ï¼Œä»¥ç§Ÿå®¢èº«ä»½ä½è¿›äº†é¡¾è€€ä¸œçš„å®¶ä¸­ï¼Œåœ¨ç»å†äº†é‡é‡ç£¨éš¾åï¼Œå¯¹ä»–å€¾å¿ƒç›¸è®¸ï¼Œæœ€ç»ˆç›¸çˆ±ã€‚</p>
    </dd>
    </dl>
    </li>, <li class="roleIntroduction-item">
    <a class="roleIntrodcution-picture" href="/pic/%E9%9A%90%E7%A7%98%E8%80%8C%E4%BC%9F%E5%A4%A7/22454129/0/b7003af33a87e950352a0cfb6b734443fbf2b2111e5a?fr=lemma&amp;fromModule=lemma_content-image" target="_blank">
    <img alt="" src="https://bkimg.cdn.bcebos.com/pic/b7003af33a87e950352a0cfb6b734443fbf2b2111e5a?x-bce-process=image/crop,x_0,y_0,w_1080,h_1442/resize,m_lfit,h_780,limit_1/quality,Q_70"/>
    </a>
    <dl class="roleIntrodcution-descritpion">
    <dt>
    <div class="role-name">
    <span class="item-value">
    å¤ç»§æˆ
    </span>
    </div>
    <div class="role-actor">
    <span class="item-key">æ¼”å‘˜</span><span class="item-value">
    <a data-lemmaid="8371046" href="/item/%E7%8E%8B%E6%B3%B7%E6%AD%A3/8371046" target="_blank">ç‹æ³·æ­£</a>
    </span>
    </div>
    <div class="role-voice">
    </div>
    </dt>
    <dd class="role-description">
    <p>ä¸Šæµ·å¸‚è­¦å¯Ÿå±€åˆ‘è­¦äºŒå¤„å¤„é•¿ï¼Œæ˜¯ä¸ªå¤„äº‹åœ†æ»‘ä¸–æ•…ï¼Œæ²¡äº‹å°±çˆ±å•ƒé¸¡è…¿æ“éº»å°†çš„ä¸­å¹´ç”·äººã€‚åœ¨è®¤è¯†äº†åˆå…¥èŒåœºçš„é¡¾è€€ä¸œä¹‹åï¼Œä»é¡¾è€€ä¸œèº«ä¸Šï¼Œå¤ç»§æˆæ—¶å¸¸ä¼šæƒ³åˆ°å½“å¹´çš„è‡ªå·±ï¼Œå¯¹é¡¾è€€ä¸œæœ‰ä¸€ç§ç‰¹æ®Šçš„æ„Ÿæƒ…ï¼Œäº¦å¸ˆäº¦å‹ã€‚åŒæ—¶ä»–ä¹Ÿæ˜¯ä¸­å…±ä¸Šæµ·åœ°ä¸‹å…šçš„ä¸€å‘˜ï¼Œæœ€åä»–å’Œé¡¾è€€ä¸œè¿˜æœ‰æ²ˆé’ç¦¾ä¸€èµ·ï¼Œå†ç»æ’•æ‰¯ã€å›°æƒ‘ã€ç£¨ç ºï¼Œæˆä¸ºäº†å‡ºè‰²çš„å…±äº§å…šå‘˜ã€‚</p>
    </dd>
    </dl>
    </li>, <li class="roleIntroduction-item">
    <a class="roleIntrodcution-picture" href="/pic/%E9%9A%90%E7%A7%98%E8%80%8C%E4%BC%9F%E5%A4%A7/22454129/0/b3b7d0a20cf431adcbefa8ae307dbbaf2edda3cc325a?fr=lemma&amp;fromModule=lemma_content-image" target="_blank">
    <img alt="" src="https://bkimg.cdn.bcebos.com/pic/b3b7d0a20cf431adcbefa8ae307dbbaf2edda3cc325a?x-bce-process=image/crop,x_0,y_0,w_1080,h_1442/resize,m_lfit,h_780,limit_1/quality,Q_70"/>
    </a>
    <dl class="roleIntrodcution-descritpion">
    <dt>
    <div class="role-name">
    <span class="item-value">
    èµµå¿—å‹‡
    </span>
    </div>
    <div class="role-actor">
    <span class="item-key">æ¼”å‘˜</span><span class="item-value">
    <a data-lemmaid="4842288" href="/item/%E7%89%9B%E9%AA%8F%E5%B3%B0/4842288" target="_blank">ç‰›éªå³°</a>
    </span>
    </div>
    <div class="role-voice">
    </div>
    </dt>
    <dd class="role-description">
    <p>å‡ºç”Ÿäºæ™®é€šäººå®¶ï¼Œå¯¹å¤„ç†æ··æ²Œæ—¶ä»£ä¸‹çš„äººé™…å…³ç³»å¾ˆæœ‰è‡ªå·±çš„ä¸€å¥—ã€‚ä¸ºäº†ç¨³ä½è­¦å±€è¿™ä»½å·¥ä½œï¼Œæ²¹æ»‘è€ç»ƒçš„ä»–å’Œå‘¨å›´äººæ‰“äº¤é“ã€‚ä½†ä»–å¤©æ€§å–„è‰¯ï¼Œé¢å¯¹é¡¾è€€ä¸œè¿™æ ·çš„æ–°äººï¼Œå˜´ä¸Šè¯´ç€æ–°äººè¦å¬å‰è¾ˆçš„ï¼Œä½†å…¶å®éå¸¸å…³å¿ƒä»–ï¼Œä¸ä¸å‰è¾ˆæ²†ç€£ä¸€æ°”ï¼Œå¤„å¤„å¸®é¡¾è€€ä¸œè§£å†³çª˜å¢ƒï¼Œèµµå¿—å‹‡å¸®ä»–è¯´å°½å¥½è¯ã€‚</p>
    </dd>
    </dl>
    </li>, <li class="roleIntroduction-item">
    <a class="roleIntrodcution-picture" href="/pic/%E9%9A%90%E7%A7%98%E8%80%8C%E4%BC%9F%E5%A4%A7/22454129/0/77094b36acaf2edda3cc9f7ef65b16e93901213f355a?fr=lemma&amp;fromModule=lemma_content-image" target="_blank">
    <img alt="" src="https://bkimg.cdn.bcebos.com/pic/77094b36acaf2edda3cc9f7ef65b16e93901213f355a?x-bce-process=image/crop,x_0,y_0,w_1080,h_1442/resize,m_lfit,h_780,limit_1/quality,Q_70"/>
    </a>
    <dl class="roleIntrodcution-descritpion">
    <dt>
    <div class="role-name">
    <span class="item-value">
    ä¸æ”¾
    </span>
    </div>
    <div class="role-actor">
    <span class="item-key">æ¼”å‘˜</span><span class="item-value">
    <a data-lemmaid="7783365" href="/item/%E6%96%BD%E8%AF%97/7783365" target="_blank">æ–½è¯—</a>
    </span>
    </div>
    <div class="role-voice">
    </div>
    </dt>
    <dd class="role-description">
    <p>ä¸æ”¾æ˜¯ä¸ªæˆ‘è¡Œæˆ‘ç´ ã€ç‰¹ç«‹ç‹¬è¡Œçš„å¹´è½»ä½œå®¶ï¼Œç¬”åä¸ºâ€œä¸œç¯±å›â€ï¼Œæ˜¯æ–‡å›ä¸€é¢—å†‰å†‰å‡èµ·çš„æ–°æ˜Ÿã€‚å¥¹çš„æ€§æ ¼å°±å¦‚åŒå¥¹çš„åå­—ä¸€æ ·ï¼Œç›´é¢æ·±æƒ…ï¼Œåº¦åŠ¿è€Œæ”¾ï¼Œå¥¹æ›¾çˆ±è¿‡é¡¾è€€ä¸œï¼Œä¹Ÿè¾œè´Ÿè¿‡é¡¾è€€ä¸œï¼Œæœ€ç»ˆé€‰æ‹©å°†è¿™ä¸€æ®µç¾å¥½çˆ±æƒ…æ°¸è¿œæ·±åŸ‹å¿ƒåº•ï¼Œè¿œèµ°ä»–ä¹¡ã€‚</p>
    </dd>
    </dl>
    </li>, <li class="roleIntroduction-item">
    <a class="roleIntrodcution-picture" href="/pic/%E9%9A%90%E7%A7%98%E8%80%8C%E4%BC%9F%E5%A4%A7/22454129/0/b90e7bec54e736d12f2e549fe01b58c2d5628535c35a?fr=lemma&amp;fromModule=lemma_content-image" target="_blank">
    <img alt="" src="https://bkimg.cdn.bcebos.com/pic/b90e7bec54e736d12f2e549fe01b58c2d5628535c35a?x-bce-process=image/crop,x_0,y_0,w_1080,h_1442/resize,m_lfit,h_780,limit_1/quality,Q_70"/>
    </a>
    <dl class="roleIntrodcution-descritpion">
    <dt>
    <div class="role-name">
    <span class="item-value">
    ç‹ç§‘è¾¾
    </span>
    </div>
    <div class="role-actor">
    <span class="item-key">æ¼”å‘˜</span><span class="item-value">
    <a data-lemmaid="6619734" href="/item/%E7%8E%8B%E5%B0%8F%E6%AF%85/6619734" target="_blank">ç‹å°æ¯…</a>
    </span>
    </div>
    <div class="role-voice">
    </div>
    </dt>
    <dd class="role-description">
    <p>ä¸Šæµ·å¸‚è­¦å¯Ÿå±€åˆ‘è­¦ä¸€å¤„å¤„é•¿ï¼Œèº«ä¸ºå†›å®˜å­¦é™¢å‡ºèº«çš„ä¼˜ç§€å†›å®˜ï¼Œç‹å¤„é•¿ä¸€ç›´åœ¨ä¸ºè‡ªå·±æ‰€åšæŒçš„ä¿¡å¿µå¥‹æ–—ï¼Œä»–çš„æ™ºå•†ä¸è¾“ç»™å¤å¤„é•¿ï¼Œæ€»æ˜¯èƒ½ç»™æ­£æ´¾åˆ¶é€ è®¸å¤šéº»çƒ¦ï¼Œä»–çš„å­˜åœ¨å°±æ˜¯ç»™é¡¾è€€ä¸œçš„æˆé•¿å¢åŠ éš¾åº¦ã€‚</p>
    </dd>
    </dl>
    </li>, <li class="roleIntroduction-item more">
    <a class="roleIntrodcution-picture" href="/pic/%E9%9A%90%E7%A7%98%E8%80%8C%E4%BC%9F%E5%A4%A7/22454129/0/faf2b2119313b07eca80b2c67a9d862397dda04426e0?fr=lemma&amp;fromModule=lemma_content-image" target="_blank">
    <img alt="" src="https://bkimg.cdn.bcebos.com/pic/faf2b2119313b07eca80b2c67a9d862397dda04426e0?x-bce-process=image/crop,x_0,y_0,w_660,h_881/resize,m_lfit,h_780,limit_1/quality,Q_70"/>
    </a>
    <dl class="roleIntrodcution-descritpion">
    <dt>
    <div class="role-name">
    <span class="item-value">
    é¡¾æ‚¦è¥¿
    </span>
    </div>
    <div class="role-actor">
    <span class="item-key">æ¼”å‘˜</span><span class="item-value">
    <a data-lemmaid="3147367" href="/item/%E5%91%A8%E7%9F%A5/3147367" target="_blank">å‘¨çŸ¥</a>
    </span>
    </div>
    <div class="role-voice">
    </div>
    </dt>
    <dd class="role-description">
    <p>é¡¾è€€ä¸œçš„å§å§ï¼Œå¼€å±€å°±å„¿å¥³åˆå…¨ï¼Œä½†å´ç»å¸¸è®©çˆ¶æ¯æ“å¿ƒå¥¹çš„å©šå§»ã€‚è€å…¬æ˜¯æµ·å‘˜ï¼Œé•¿å¹´åœ¨å¤–æ¼‚æ³Šï¼Œå¥¹å°±å¸¦ç€å„¿å­å›å¨˜å®¶è¹­åƒè¹­ä½ï¼Œå°æ—¥å­å€’ä¹Ÿè¿‡å¾—å¹¸ç¦è‡ªåœ¨ã€‚ç¬‘å®¹ç‰¹åˆ«æ˜åªšï¼Œå¥¹æ¯å¤©éƒ½å–œæ¬¢æŠŠè‡ªå·±æ‰“æ‰®å¾—æ¼‚æ¼‚äº®äº®çš„ï¼Œçœ‹èµ·æ¥ä¸€æƒŠä¸€å’‹çš„ï¼Œå¯æ˜¯å†…å¿ƒå´ç‰¹åˆ«å–„è‰¯ã€‚</p>
    </dd>
    </dl>
    </li>]
    <tr><td align="center" height="30" width="139"><div class="para" label-module="para">2020.11.06</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">0.582</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">2.073</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">7</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">0.82</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">4.11</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">1</div></td></tr>
    <tr><td align="center" height="30" width="139"><div class="para" label-module="para">2020.11.07</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">0.747</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">2.645</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">5</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">0.89</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">3.85</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">1</div></td></tr>
    <tr><td align="center" height="30" width="139"><div class="para" label-module="para">2020.11.08</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">0.651</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">2.279</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">8</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">4.39</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">1</div></td></tr>
    <tr><td align="center" height="30" width="139"><div class="para" label-module="para">2020.11.09</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">0.679</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">2.445</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">6</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">0.98</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">4.43</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">1</div></td></tr>
    <tr><td align="center" height="30" width="139"><div class="para" label-module="para">2020.11.10</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">0.755</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">2.697</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">1</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">4.57</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">1</div></td></tr>
    <tr><td align="center" height="30" width="139"><div class="para" label-module="para">2020.11.11</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">0.682</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">2.480</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">6</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">0.99</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">4.56</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">1</div></td></tr>
    <tr><td align="center" height="30" width="139"><div class="para" label-module="para">2020.11.12</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">0.703</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">2.541</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">8</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">4.53</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">1</div></td></tr>
    <tr><td align="center" height="30" width="139"><div class="para" label-module="para">2020.11.13</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">0.809</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">2.882</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">4</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">0.98</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">4.25</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">1</div></td></tr>
    <tr><td align="center" height="30" width="139"><div class="para" label-module="para">2020.11.14</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">0.884</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">3.088</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">6</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1.12</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">4.8</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">1</div></td></tr>
    <tr><td align="center" height="30" width="139"><div class="para" label-module="para">2020.11.15</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">0.841</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">2.878</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">6</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1.09</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">4.73</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">1</div></td></tr>
    <tr><td align="center" height="30" width="139"><div class="para" label-module="para">2020.11.16</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">0.804</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">2.850</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">6</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1.19</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">5.37</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">1</div></td></tr>
    <tr><td align="center" height="30" width="139"><div class="para" label-module="para">2020.11.17</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">0.843</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">3.074</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">6</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1.12</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">5.13</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">1</div></td></tr>
    <tr><td align="center" height="30" width="139"><div class="para" label-module="para">2020.11.18</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">0.948</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">3.432</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">6</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1.16</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">5.14</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">1</div></td></tr>
    <tr><td align="center" height="30" width="139"><div class="para" label-module="para">2020.11.19</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">0.958</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">3.523</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">6</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1.22</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">5.46</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">1</div></td></tr>
    <tr><td align="center" height="30" width="139"><div class="para" label-module="para">2020.11.20</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">0.917</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">3.254</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">5</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1.2</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">5</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">1</div></td></tr>
    <tr><td align="center" height="30" width="139"><div class="para" label-module="para">2020.11.21</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">0.942</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">3.278</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">5</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1.2</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">4.98</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">1</div></td></tr>
    <tr><td align="center" height="30" width="139"><div class="para" label-module="para">2020.11.22</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">0.987</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">3.438</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">6</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1.18</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">5.12</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">1</div></td></tr>
    <tr><td align="center" height="30" width="139"><div class="para" label-module="para">2020.11.23</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">0.999</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">3.632</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">6</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1.21</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">5.38</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">1</div></td></tr>
    <tr><td align="center" height="30" width="139"><div class="para" label-module="para">2020.11.24</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1.047</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">3.751</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">6</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1.16</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">5.15</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">1</div></td></tr>
    <tr><td align="center" height="30" width="139"><div class="para" label-module="para">2020.11.25</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1.175</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">4.211</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">5</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1.29</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">5.79</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">1</div></td></tr>
    <tr><td align="center" height="30" width="139"><div class="para" label-module="para">2020.11.26</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1.130</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">4.091</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">6</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1.32</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">5.84</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">1</div></td></tr>
    <tr><td align="center" height="30" width="139"><div class="para" label-module="para">2020.11.27</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1.142</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">3.907</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">6</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1.38</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">5.77</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">1</div></td></tr>
    <tr><td align="center" height="30" width="139"><div class="para" label-module="para">2020.11.28</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1.313</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">4.503</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">5</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1.44</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">6.02</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">1</div></td></tr>
    <tr><td align="center" height="30" width="139"><div class="para" label-module="para">2020.11.29</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1.218</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">4.196</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">5</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1.48</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">6.42</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">1</div></td></tr>
    <tr><td align="center" height="30" width="139"><div class="para" label-module="para">2020.11.30</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1.223</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">4.297</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">5</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1.36</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">6.1</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">1</div></td></tr>
    <tr><td align="center" height="30" width="139"><div class="para" label-module="para">2020.12.01</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1.110</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">3.921</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">5</div></td><td align="center" height="30" width="112"><div class="para" label-module="para">1.33</div></td><td align="center" height="30" width="131"><div class="para" label-module="para">5.67</div></td><td align="center" height="30" width="134"><div class="para" label-module="para">1</div></td></tr>
    æ‰€æœ‰ä¿¡æ¯çˆ¬å–å®Œæˆï¼


# æ•°æ®åˆ†æ


```python
# å¦‚æœéœ€è¦è¿›è¡ŒæŒä¹…åŒ–å®‰è£…, éœ€è¦ä½¿ç”¨æŒä¹…åŒ–è·¯å¾„, å¦‚ä¸‹æ–¹ä»£ç ç¤ºä¾‹:
!mkdir /home/aistudio/external-libraries
!pip install matplotlib -t /home/aistudio/external-libraries
!pip install wordcloud -t /home/aistudio/external-libraries
```

    Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple
    Collecting matplotlib
      Downloading https://pypi.tuna.tsinghua.edu.cn/packages/ad/62/7b662284352867a86acfb636761ba351723fc3a235efd8397578d903413d/matplotlib-3.5.3-cp37-cp37m-manylinux_2_5_x86_64.manylinux1_x86_64.whl (11.2 MB)
    [2K     [90mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m [32m11.2/11.2 MB[0m [31m1.4 MB/s[0m eta [36m0:00:00[0m00:01[0m00:01[0m
    [?25hCollecting python-dateutil>=2.7
      Downloading https://pypi.tuna.tsinghua.edu.cn/packages/36/7a/87837f39d0296e723bb9b62bbb257d0355c7f6128853c78955f57342a56d/python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)
    [2K     [90mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m [32m247.7/247.7 kB[0m [31m781.6 kB/s[0m eta [36m0:00:00[0ma [36m0:00:01[0m
    [?25hCollecting numpy>=1.17
      Downloading https://pypi.tuna.tsinghua.edu.cn/packages/6d/ad/ff3b21ebfe79a4d25b4a4f8e5cf9fd44a204adb6b33c09010f566f51027a/numpy-1.21.6-cp37-cp37m-manylinux_2_12_x86_64.manylinux2010_x86_64.whl (15.7 MB)
    [2K     [91mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m[90mâ•º[0m[90mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m [32m5.6/15.7 MB[0m [31m370.5 kB/s[0m eta [36m0:00:28[0m


```python
# åŒæ—¶æ·»åŠ å¦‚ä¸‹ä»£ç , è¿™æ ·æ¯æ¬¡ç¯å¢ƒ(kernel)å¯åŠ¨çš„æ—¶å€™åªè¦è¿è¡Œä¸‹æ–¹ä»£ç å³å¯:
import sys
sys.path.append('/home/aistudio/external-libraries')
```


```python
# ä¸‹è½½ä¸­æ–‡å­—ä½“
#!wget https://mydueros.cdn.bcebos.com/font/simhei.ttf
# # å°†å­—ä½“æ–‡ä»¶å¤åˆ¶åˆ°matplotlibå­—ä½“è·¯å¾„
# !cp /home/aistudio/work/simhei.ttf /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/matplotlib/mpl-data/fonts/ttf/
# # åˆ›å»ºç³»ç»Ÿå­—ä½“æ–‡ä»¶è·¯å¾„
!mkdir .fonts
# å¤åˆ¶æ–‡ä»¶åˆ°è¯¥è·¯å¾„
!cp  /home/aistudio/work/simhei.ttf  .fonts/
```

## ä¸€ã€ ç»˜åˆ¶CSM59åŸå¸‚ç½‘æ”¶è§†ç‡å˜åŒ–è¶‹åŠ¿


```python

import matplotlib.pyplot as plt
import numpy as np 
import json
import matplotlib.font_manager as font_manager
import pandas as pd
#æ˜¾ç¤ºmatplotlibç”Ÿæˆçš„å›¾å½¢
%matplotlib inline


df = pd.read_json('work/viewing_infos.json',dtype = {'broadcastDate' : str})
#print(df)

broadcastDate_list = df['broadcastDate']
csm59_rating_list = df['csm59_rating']

plt.rcParams['font.sans-serif'] = ['SimHei'] # æŒ‡å®šé»˜è®¤å­—ä½“
plt.figure(figsize=(15,8))
plt.title("ã€Šéšç§˜è€Œä¼Ÿå¤§ã€‹CSM59åŸå¸‚ç½‘æ”¶è§†ç‡å˜åŒ–è¶‹åŠ¿",fontsize=20) 
plt.xlabel("æ’­å‡ºæ—¥æœŸ",fontsize=20) 
plt.ylabel("æ”¶è§†ç‡%",fontsize=20) 
plt.xticks(rotation=45,fontsize=20)
plt.yticks(fontsize=20)
plt.plot(broadcastDate_list,csm59_rating_list) 
plt.grid() 
plt.savefig('/home/aistudio/work/chart01.jpg')
plt.show()
```

## äºŒã€ ç»˜åˆ¶CSM59åŸå¸‚ç½‘å’ŒCSMå…¨å›½ç½‘æ”¶è§†ç‡å˜åŒ–è¶‹åŠ¿ï¼Œå¹¶è¿›è¡Œå¯¹æ¯”


```python
import matplotlib.pyplot as plt
import numpy as np 
import json
import matplotlib.font_manager as font_manager
import pandas as pd
#æ˜¾ç¤ºmatplotlibç”Ÿæˆçš„å›¾å½¢
%matplotlib inline


df = pd.read_json('work/viewing_infos.json',dtype = {'broadcastDate' : str})
#print(df)

broadcastDate_list = df['broadcastDate']
csm59_rating_list = df['csm59_rating']
csm_rating_list = df['csm_rating']

plt.rcParams['font.sans-serif'] = ['SimHei'] # æŒ‡å®šé»˜è®¤å­—ä½“
plt.figure(figsize=(15,8))
plt.title("ã€Šéšç§˜è€Œä¼Ÿå¤§ã€‹æ”¶è§†ç‡å˜åŒ–è¶‹åŠ¿",fontsize=20) 
plt.xlabel("æ’­å‡ºæ—¥æœŸ",fontsize=20) 
plt.ylabel("æ”¶è§†ç‡%",fontsize=20) 
plt.xticks(rotation=45,fontsize=20)
plt.yticks(fontsize=20)
plt.plot(broadcastDate_list,csm59_rating_list,label = "CSM59åŸå¸‚ç½‘æ”¶è§†ç‡") 
plt.plot(broadcastDate_list,csm_rating_list,label = "CSMå…¨å›½ç½‘æ”¶è§†ç‡") 
plt.legend()
plt.grid() 
plt.savefig('/home/aistudio/work/chart02.jpg')
plt.show()
```

## ä¸‰ã€ ç»˜åˆ¶è¯äº‘å›¾


```python
import jieba
import collections
import wordcloud
```


```python
def generate_wc(string_data):
    # æ–‡æœ¬é¢„å¤„ç†
    pattern = re.compile(u'\t|\n|\.|-|:|;|\)|\(|\?|"')       # å®šä¹‰æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æ¨¡å¼
    string_data = re.sub(pattern, '', string_data)           # å°†ç¬¦åˆæ¨¡å¼çš„å­—ç¬¦å»é™¤
    # æ–‡æœ¬åˆ†è¯
    seg_list_exact = jieba.cut(string_data, cut_all = False) # ç²¾ç¡®æ¨¡å¼åˆ†è¯

    object_list = []
    remove_words = []
    
    #è¯»å–åœç”¨è¯
    with open("work/åœç”¨è¯åº“.txt",'r',encoding='utf-8') as fp:
        for word in fp:
            remove_words.append(word.replace("\n",""))
    
    for word in seg_list_exact:                              # å¾ªç¯è¯»å‡ºæ¯ä¸ªåˆ†è¯
        if word not in remove_words:                         # å¦‚æœä¸åœ¨å»é™¤è¯åº“ä¸­
            object_list.append(word)                         # åˆ†è¯è¿½åŠ åˆ°åˆ—è¡¨

    # è¯é¢‘ç»Ÿè®¡
    word_counts = collections.Counter(object_list)           # å¯¹åˆ†è¯åšè¯é¢‘ç»Ÿè®¡
    word_counts_top20 = word_counts.most_common(20)          # è·å–å‰20æœ€é«˜é¢‘çš„è¯
    print(word_counts_top20)
    # è¯é¢‘å±•ç¤º
    wc = wordcloud.WordCloud(
        font_path='work/simhei.ttf',                         # è®¾ç½®å­—ä½“æ ¼å¼
        background_color="#000000",                          # è®¾ç½®èƒŒæ™¯å›¾
        max_words=150,                                       # æœ€å¤šæ˜¾ç¤ºè¯æ•°
        max_font_size=60,                                    # å­—ä½“æœ€å¤§å€¼
        width=707,
        height=499
    )
    wc.generate_from_frequencies(word_counts)                # ä»å­—å…¸ç”Ÿæˆè¯äº‘

    plt.imshow(wc)                                           # æ˜¾ç¤ºè¯äº‘
    plt.axis('off')                                          # å…³é—­åæ ‡è½´
    plt.savefig('/home/aistudio/work/wordcloud.jpg')
    plt.show()                                               # æ˜¾ç¤ºå›¾åƒ
```


```python

review_df = pd.read_json('work/actors.json')

content_str = ""
for row in review_df.index:
    content = review_df.loc[row,'role_escription']
    content_str += content

generate_wc(content_str)
```
